## 請簡單解釋什麼是 Single Page Application

SPA 是一種前後端分離的網頁，前端只需要準備一個 index.html 檔案，然後在使用者進行操作的時候向後端 server 發 Ajax，再用 JavaScript 把收到的 response (通常是 JSON 格式的資料檔案) 渲染出來，這種渲染方法稱為 client-side rendering。因為前端只有一個 index.html 檔案，其他東西都是動態產生的，所以可以達到不換頁的效果，提供像 Gmail 那樣的 app-like 使用者體驗。

## SPA 的優缺點為何

優點：
1. 使用者體驗很棒，在這個大家都用 mobile 上網的年代，網頁如果用起來像 app，又不用特地安裝，根本讚到爆。
2. 實作 SPA 可以達到前後端分離，後端不用傳給前端 render 好的 html 檔案，只要輸出 JSON 格式的純資料就可以了，而前端在處理介面的時候也不需要動到後端的東西。
3. 前後端分離還有一個優點，就是可以分開部署。這樣不管是前端或後端的 server 出問題，都不會影響到對方的東西。前端的網頁還是開得起來，只是沒有資料，可以用事先做好的錯誤畫面告訴使用者 server 有問題，加強使用者體驗。

缺點：
1. 前端要做的事變得很複雜。以前路由都是由後端幫你處理好，但現在因為只有一個頁面檔案，所以前端工程師要自己管理 URL 的狀態，才能渲染出對的畫面和資料。譬如說用 # 來記錄使用者現在瀏覽的是哪個「頁面」，或是用 history API 來自己偷改網址，但實際上並沒有朝後端發 Ajax。 
2. 對使用者來說，如果只是單純想看某個網站的首頁，但卻要載入一大包 JavaScript，有點浪費效能。不過這個問題可以透過把 JS 檔分開來解決。
3. 影響網站的 SEO。因為 client-side rendering 是動態渲染畫面，所以原始檔裡面幾乎沒有內容，搜尋引擎的爬蟲程式就很難知道你的網頁在幹嘛 (不過 Google 的很厲害會爬用 JS 渲染過後的版本)。這個問題可以用 SSR 解決，也就是在第一次載入頁面的時候改用 server-side rendering，像 SPA 還沒出現時那樣讓後端把 view 處理好再傳到前端，這樣就能確保爬蟲程式讀得到你的網頁內容，但後續還是用原來的方式動態抓資料渲染畫面，魚與熊掌兼得。

## 這週這種後端負責提供只輸出資料的 API，前端一律都用 Ajax 串接的寫法，跟之前透過 PHP 直接輸出內容的留言板有什麼不同？

後端提供資料、前端串 API + 渲染的模式屬於 client-side rendering，畫面是透過前端 JS 動態抓取資料然後渲染到畫面上，如果在這種類型的網頁上查看網頁原始碼，會發現內容空空的；上週用 PHP 和 HTML 混和的寫法，是由後端一次抓取資料然後直接放到 html 中，然後再將完整的 html 檔傳到前端去渲染，這種模式叫 server-side rendering，打開網頁原始碼會發現所有內容和資料都在檔案中了。簡言之，之前做的是 MPA，這週做的是 SPA。